var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(o)}function c(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,o,r){return t[1]&&r?n(o.ctx.slice(),t[1](r(e))):o.ctx}const a="undefined"!=typeof window;let u=a?()=>window.performance.now():()=>Date.now(),d=a?t=>requestAnimationFrame(t):t;const f=new Set;function p(t){f.forEach((e=>{e.c(t)||(f.delete(e),e.f())})),0!==f.size&&d(p)}function m(t,e){t.appendChild(e)}function h(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function g(t){const e=k("style");return function(t,e){m(t.head||t,e)}(h(t),e),e.sheet}function $(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function b(){return v(" ")}function w(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function S(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}const E=new Map;let L,C=0;function j(t,e,n,o,r,i,c,s=0){const l=16.666/o;let a="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*i(t);a+=100*t+`%{${c(o,1-o)}}\n`}const u=a+`100% {${c(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${s}`,f=h(t),{stylesheet:p,rules:m}=E.get(f)||function(t,e){const n={stylesheet:g(e),rules:{}};return E.set(t,n),n}(f,t);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const $=t.style.animation||"";return t.style.animation=`${$?`${$}, `:""}${d} ${o}ms linear ${r}ms 1 both`,C+=1,d}function D(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),C-=r,C||d((()=>{C||(E.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),E.clear())})))}function A(t){L=t}const P=[],V=[],z=[],M=[],O=Promise.resolve();let R=!1;function N(t){z.push(t)}const q=new Set;let F,W=0;function B(){const t=L;do{for(;W<P.length;){const t=P[W];W++,A(t),T(t.$$)}for(A(null),P.length=0,W=0;V.length;)V.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];q.has(e)||(q.add(e),e())}z.length=0}while(P.length);for(;M.length;)M.pop()();R=!1,q.clear(),A(t)}function T(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}function X(t,e,n){t.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}(`${e?"intro":"outro"}${n}`))}const H=new Set;let U;function G(){U={r:0,c:[],p:U}}function I(){U.r||i(U.c),U=U.p}function J(t,e){t&&t.i&&(H.delete(t),t.i(e))}function K(t,e,n,o){if(t&&t.o){if(H.has(t))return;H.add(t),U.c.push((()=>{H.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}const Q={duration:0};function Y(n,o,r,s){let l=o(n,r),a=s?0:1,m=null,h=null,g=null;function $(){g&&D(n,g)}function y(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function x(o){const{delay:r=0,duration:c=300,easing:s=e,tick:x=t,css:k}=l||Q,v={start:u()+r,b:o};o||(v.group=U,U.r+=1),m||h?h=v:(k&&($(),g=j(n,a,o,c,r,s,k)),o&&x(0,1),m=y(v,c),N((()=>X(n,o,"start"))),function(t){let e;0===f.size&&d(p),new Promise((n=>{f.add(e={c:t,f:n})}))}((t=>{if(h&&t>h.start&&(m=y(h,c),h=null,X(n,m.b,"start"),k&&($(),g=j(n,a,m.b,m.duration,0,s,l.css))),m)if(t>=m.end)x(a=m.b,1-a),X(n,m.b,"end"),h||(m.b?$():--m.group.r||i(m.group.c)),m=null;else if(t>=m.start){const e=t-m.start;a=m.a+m.d*s(e/m.duration),x(a,1-a)}return!(!m&&!h)})))}return{run(t){c(l)?(F||(F=Promise.resolve(),F.then((()=>{F=null}))),F).then((()=>{l=l(),x(t)})):x(t)},end(){$(),m=h=null}}}function Z(t,e){const n={},o={},r={$$scope:1};let i=t.length;for(;i--;){const c=t[i],s=e[i];if(s){for(const t in c)t in s||(o[t]=1);for(const t in s)r[t]||(n[t]=s[t],r[t]=1);t[i]=s}else for(const t in c)r[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function tt(t){return"object"==typeof t&&null!==t?t:{}}function et(t){t&&t.c()}function nt(t,e,n,r){const{fragment:s,on_mount:l,on_destroy:a,after_update:u}=t.$$;s&&s.m(e,n),r||N((()=>{const e=l.map(o).filter(c);a?a.push(...e):i(e),t.$$.on_mount=[]})),u.forEach(N)}function ot(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rt(t,e){-1===t.$$.dirty[0]&&(P.push(t),R||(R=!0,O.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function it(e,n,o,c,s,l,a,u=[-1]){const d=L;A(e);const f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};a&&a(f.root);let p=!1;if(f.ctx=o?o(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),p&&rt(e,t)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!c&&c(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(y)}else f.fragment&&f.fragment.c();n.intro&&J(e.$$.fragment),nt(e,n.target,n.anchor,n.customElement),B()}A(d)}class ct{$destroy(){ot(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function st(t){let e,n,o,r,i,c;const s=t[8].default,a=function(t,e,n,o){if(t){const r=l(t,e,n,o);return t[0](r)}}(s,t,t[7],null);return{c(){e=k("div"),n=k("button"),n.textContent="X",o=b(),a&&a.c(),S(n,"class","close svelte-plspv9"),S(e,"id",t[1]),S(e,"class","resize-drag svelte-plspv9"),_(e,"--color",t[2]),_(e,"--width",t[0].width),_(e,"--height",t[0].height)},m(s,l){$(s,e,l),m(e,n),m(e,o),a&&a.m(e,null),r=!0,i||(c=w(n,"click",t[9]),i=!0)},p(t,[n]){a&&a.p&&(!r||128&n)&&function(t,e,n,o,r,i){if(r){const c=l(e,n,o,i);t.p(c,r)}}(a,s,t,t[7],r?function(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}(s,t[7],n,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[7]),null),(!r||2&n)&&S(e,"id",t[1]),(!r||4&n)&&_(e,"--color",t[2]),(!r||1&n)&&_(e,"--width",t[0].width),(!r||1&n)&&_(e,"--height",t[0].height)},i(t){r||(J(a,t),r=!0)},o(t){K(a,t),r=!1},d(t){t&&y(e),a&&a.d(t),i=!1,c()}}}function lt(t,e,n){let{$$slots:o={},$$scope:r}=e,{position:i,id:c,color:s="red",resolution:l,type:a,updateLines:u}=e;console.log("Created Sticker: ",c);let{cancelSticker:d}=e;const f=[interact.modifiers.restrictEdges({outer:"parent"}),interact.modifiers.restrictSize({min:{width:150,height:150}})];function p(t){let e=t.target;n(4,i.x=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,i),n(4,i.y=(parseFloat(e.getAttribute("data-y"))||0)+t.dy,i),e.style.transform="translate("+i.x+"px, "+i.y+"px)",e.setAttribute("data-x",i.x),e.setAttribute("data-y",i.y),u()}"sticker"!=a&&f.push(interact.modifiers.aspectRatio({ratio:1})),console.log("setupModifiers",f),interact(".resize-drag").resizable({edges:{left:!0,right:!0,bottom:!0,top:!0},listeners:{move(t){let e=t.target;n(4,i.x=parseFloat(e.getAttribute("data-x"))||0,i),n(4,i.y=parseFloat(e.getAttribute("data-y"))||0,i),e.style.width=t.rect.width+"px",e.style.height=t.rect.height+"px",n(4,i.x+=t.deltaRect.left,i),n(4,i.y+=t.deltaRect.top,i),e.style.transform="translate("+i.x+"px,"+i.y+"px)",e.setAttribute("data-x",i.x),e.setAttribute("data-y",i.y),n(0,l.width=t.rect.width+"px",l),n(0,l.height=t.rect.height+"px",l),u()}},modifiers:f}).draggable({modifiers:[interact.modifiers.restrictRect({restriction:"parent",endOnly:!0})],autoScroll:!0,listeners:{move:p}}),window.dragMoveListener=p;return t.$$set=t=>{"position"in t&&n(4,i=t.position),"id"in t&&n(1,c=t.id),"color"in t&&n(2,s=t.color),"resolution"in t&&n(0,l=t.resolution),"type"in t&&n(5,a=t.type),"updateLines"in t&&n(6,u=t.updateLines),"cancelSticker"in t&&n(3,d=t.cancelSticker),"$$scope"in t&&n(7,r=t.$$scope)},[l,c,s,d,i,a,u,r,o,()=>d(c)]}class at extends ct{constructor(t){super(),it(this,t,lt,st,s,{position:4,id:1,color:2,resolution:0,type:5,updateLines:6,cancelSticker:3})}}function ut(e){let n,o,r,i,c,s,l,a;return{c(){n=k("div"),o=k("input"),r=b(),i=k("div"),i.textContent=`${e[3]}`,c=b(),s=k("button"),s.textContent="+",S(o,"class","name-input svelte-12zeue4"),S(o,"placeholder",e[2]),S(i,"class","text-input svelte-12zeue4"),S(s,"class","connection-btn svelte-12zeue4"),S(n,"class","content svelte-12zeue4"),_(n,"--color",e[4])},m(t,e){$(t,n,e),m(n,o),m(n,r),m(n,i),m(n,c),m(n,s),l||(a=w(s,"click",ft),l=!0)},p:t,d(t){t&&y(n),l=!1,a()}}}function dt(t){let e,o;const r=[t[5],{updateLines:t[0]},{cancelSticker:t[1]}];let i={$$slots:{default:[ut]},$$scope:{ctx:t}};for(let t=0;t<r.length;t+=1)i=n(i,r[t]);return e=new at({props:i}),{c(){et(e.$$.fragment)},m(t,n){nt(e,t,n),o=!0},p(t,[n]){const o=35&n?Z(r,[32&n&&tt(t[5]),1&n&&{updateLines:t[0]},2&n&&{cancelSticker:t[1]}]):{};2048&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){o||(J(e.$$.fragment,t),o=!0)},o(t){K(e.$$.fragment,t),o=!1},d(t){ot(e,t)}}}const ft=()=>{};function pt(t,e,n){let{stickerData:o}=e,{name:r,text:i}=o,{id:c,position:s,color:l,resolution:a,type:u}=o;const d={id:c,position:s,color:l,resolution:a,type:u};let{updateLines:f,cancelSticker:p}=e;return t.$$set=t=>{"stickerData"in t&&n(6,o=t.stickerData),"updateLines"in t&&n(0,f=t.updateLines),"cancelSticker"in t&&n(1,p=t.cancelSticker)},[f,p,r,i,l,d,o]}class mt extends ct{constructor(t){super(),it(this,t,pt,dt,s,{stickerData:6,updateLines:0,cancelSticker:1})}}function ht(t){const e=e=>{!t||t.contains(e.target)||e.defaultPrevented||t.dispatchEvent(new CustomEvent("click_outside",t))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function gt(t){const e=t-1;return e*e*e+1}function $t(t,{delay:e=0,duration:n=400,easing:o=gt,x:r=0,y:i=0,opacity:c=0}={}){const s=getComputedStyle(t),l=+s.opacity,a="none"===s.transform?"":s.transform,u=l*(1-c);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*r}px, ${(1-t)*i}px);\n\t\t\topacity: ${l-u*e}`}}function yt(t,e,n){const o=t.slice();return o[13]=e[n],o}function xt(t,e,n){const o=t.slice();return o[16]=e[n],o[18]=n,o}function kt(t){let e,n,o,r,i,c,s,l,a,u=t[3],d=[];for(let e=0;e<u.length;e+=1)d[e]=vt(xt(t,u,e));let f=t[1],p=[];for(let e=0;e<f.length;e+=1)p[e]=bt(yt(t,f,e));return{c(){e=k("div"),n=k("header");for(let t=0;t<d.length;t+=1)d[t].c();o=b(),r=k("div"),r.textContent="X",i=b();for(let t=0;t<p.length;t+=1)p[t].c();S(r,"id","closer-icon"),S(r,"class","svelte-1p7wytv"),S(n,"class","svelte-1p7wytv"),S(e,"id","emoji-cont"),S(e,"class","svelte-1p7wytv")},m(c,u){$(c,e,u),m(e,n);for(let t=0;t<d.length;t+=1)d[t].m(n,null);m(n,o),m(n,r),m(e,i);for(let t=0;t<p.length;t+=1)p[t].m(e,null);s=!0,l||(a=w(r,"click",t[9]),l=!0)},p(t,r){if(12&r){let e;for(u=t[3],e=0;e<u.length;e+=1){const i=xt(t,u,e);d[e]?d[e].p(i,r):(d[e]=vt(i),d[e].c(),d[e].m(n,o))}for(;e<d.length;e+=1)d[e].d(1);d.length=u.length}if(18&r){let n;for(f=t[1],n=0;n<f.length;n+=1){const o=yt(t,f,n);p[n]?p[n].p(o,r):(p[n]=bt(o),p[n].c(),p[n].m(e,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=f.length}},i(t){s||(N((()=>{c||(c=Y(e,$t,{y:-30},!0)),c.run(1)})),s=!0)},o(t){c||(c=Y(e,$t,{y:-30},!1)),c.run(0),s=!1},d(t){t&&y(e),x(d,t),x(p,t),t&&c&&c.end(),l=!1,a()}}}function vt(e){let n,o,r,i,c=String.fromCodePoint(e[16])+"";return{c(){n=k("div"),o=v(c),S(n,"data-id",e[18]),S(n,"class","svelte-1p7wytv")},m(t,c){$(t,n,c),m(n,o),r||(i=w(n,"click",e[2]),r=!0)},p:t,d(t){t&&y(n),r=!1,i()}}}function bt(t){let e,n,o,r,i=t[13]+"";return{c(){e=k("span"),n=v(i),S(e,"class","svelte-1p7wytv")},m(i,c){$(i,e,c),m(e,n),o||(r=w(e,"click",t[4]),o=!0)},p(t,e){2&e&&i!==(i=t[13]+"")&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(n,i)},d(t){t&&y(e),o=!1,r()}}}function wt(t){let e,n,o=t[0]&&kt(t);return{c(){e=k("section"),o&&o.c(),S(e,"class","svelte-1p7wytv")},m(t,r){$(t,e,r),o&&o.m(e,null),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&J(o,1)):(o=kt(t),o.c(),J(o,1),o.m(e,null)):o&&(G(),K(o,1,1,(()=>{o=null})),I())},i(t){n||(J(o),n=!0)},o(t){K(o),n=!1},d(t){t&&y(e),o&&o.d()}}}function St(t,e,n){let o,r,i,{handleEmojiPicked:c}=e,s=[{type:"faces",minVal:128512,maxVal:128580},{type:"faces2",minVal:129296,maxVal:129327},{type:"body",minVal:128066,maxVal:128080},{type:"animals",minVal:129408,maxVal:129442},{type:"transport",minVal:128640,maxVal:128676},{type:"misc",minVal:129494,maxVal:129535}],l=0,a=[];let{modalOpen:u=!0}=e;return t.$$set=t=>{"handleEmojiPicked"in t&&n(5,c=t.handleEmojiPicked),"modalOpen"in t&&n(0,u=t.modalOpen)},t.$$.update=()=>{if(64&t.$$.dirty&&n(8,o=s[l].minVal),64&t.$$.dirty&&n(7,r=s[l].maxVal),386&t.$$.dirty)for(let t=o;t<=r;t++)n(1,a=[...a,String.fromCodePoint(t)])},[u,a,t=>{n(6,l=Number(t.target.dataset.id)),n(1,a=[])},[128512,129313,128074,129417,128664,129504],t=>{i=t.target.textContent,c(i)},c,l,r,o,()=>n(0,u=!1)]}class _t extends ct{constructor(t){super(),it(this,t,St,wt,s,{handleEmojiPicked:5,modalOpen:0})}}function Et(e){let n,o,r,s,l,a,u,d,f="emoji"==e[2]&&e[3]&&Lt(e);return{c(){n=k("li"),o=k("button"),o.textContent="Sticker",r=b(),s=k("button"),s.textContent="Emoji",l=b(),f&&f.c(),S(o,"class","button-type svelte-1mr5f6i"),S(s,"class","button-type svelte-1mr5f6i"),S(n,"class","custom-select svelte-1mr5f6i")},m(i,p){var h;$(i,n,p),m(n,o),m(n,r),m(n,s),m(n,l),f&&f.m(n,null),a=!0,u||(d=[w(o,"click",e[4]),w(s,"click",e[5]),(h=ht.call(null,n),h&&c(h.destroy)?h.destroy:t),w(n,"click_outside",e[7])],u=!0)},p(t,e){"emoji"==t[2]&&t[3]?f?(f.p(t,e),12&e&&J(f,1)):(f=Lt(t),f.c(),J(f,1),f.m(n,null)):f&&(G(),K(f,1,1,(()=>{f=null})),I())},i(t){a||(J(f),a=!0)},o(t){K(f),a=!1},d(t){t&&y(n),f&&f.d(),u=!1,i(d)}}}function Lt(t){let e,n;return e=new _t({props:{handleEmojiPicked:t[6]}}),{c(){et(e.$$.fragment)},m(t,o){nt(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.handleEmojiPicked=t[6]),e.$set(o)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Ct(t){let e,n,o,r,i,c,s=t[1]&&Et(t);return{c(){e=k("div"),s&&s.c(),n=b(),o=k("button"),o.textContent="+",S(o,"class","add-sticker-btn svelte-1mr5f6i")},m(l,a){$(l,e,a),s&&s.m(e,null),m(e,n),m(e,o),r=!0,i||(c=w(o,"click",t[8]),i=!0)},p(t,[o]){t[1]?s?(s.p(t,o),2&o&&J(s,1)):(s=Et(t),s.c(),J(s,1),s.m(e,n)):s&&(G(),K(s,1,1,(()=>{s=null})),I())},i(t){r||(J(s),r=!0)},o(t){K(s),r=!1},d(t){t&&y(e),s&&s.d(),i=!1,c()}}}function jt(t,e,n){let{addSticker:o}=e,r=!1,i="None",c=!1;return t.$$set=t=>{"addSticker"in t&&n(0,o=t.addSticker)},[o,r,i,c,()=>{n(2,i="sticker"),console.log("selected",i),o(i)},()=>{n(2,i="emoji"),n(3,c=!c),console.log("selected",i)},t=>{console.log(t),o(t)},()=>n(1,r=!r),()=>{n(1,r=!r)}]}class Dt extends ct{constructor(t){super(),it(this,t,jt,Ct,s,{addSticker:0})}}function At(t){let e,n;return{c(){e=k("div"),n=v(t[2]),S(e,"class","emoji svelte-twpaw7"),_(e,"font-size",t[1])},m(t,o){$(t,e,o),m(e,n)},p(t,n){2&n&&_(e,"font-size",t[1])},d(t){t&&y(e)}}}function Pt(t){let e,o;const r=[t[3],{updateLines:t[4]},{cancelSticker:t[0]}];let i={$$slots:{default:[At]},$$scope:{ctx:t}};for(let t=0;t<r.length;t+=1)i=n(i,r[t]);return e=new at({props:i}),{c(){et(e.$$.fragment)},m(t,n){nt(e,t,n),o=!0},p(t,[n]){const o=25&n?Z(r,[8&n&&tt(t[3]),16&n&&{updateLines:t[4]},1&n&&{cancelSticker:t[0]}]):{};32770&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){o||(J(e.$$.fragment,t),o=!0)},o(t){K(e.$$.fragment,t),o=!1},d(t){ot(e,t)}}}function Vt(t,e,n){let{stickerData:o}=e,{cancelSticker:r}=e;const i=t=>Number(t.replace(/[^\d\.\-]/g,"")),c=t=>{const e=i(t.width),n=i(t.height),o=Math.pow(e,2),r=Math.pow(n,2);return Math.sqrt(o+r)/2};let{id:s,position:l,color:a,resolution:u,type:d}=o;const f={id:s,position:l,color:a,resolution:u,type:d};let p=c(u)+"px";console.log(p);let{updateLines:m}=e;return t.$$set=t=>{"stickerData"in t&&n(5,o=t.stickerData),"cancelSticker"in t&&n(0,r=t.cancelSticker),"updateLines"in t&&n(6,m=t.updateLines)},[r,p,d,f,()=>{m(),n(1,p=c(u)+"px"),console.log(u,p)},o,m]}class zt extends ct{constructor(t){super(),it(this,t,Vt,Pt,s,{stickerData:5,cancelSticker:0,updateLines:6})}}function Mt(t,e,n){const o=t.slice();return o[7]=e[n],o}function Ot(t){let e,n;return e=new zt({props:{stickerData:t[7],updateLines:t[1],cancelSticker:t[3]}}),{c(){et(e.$$.fragment)},m(t,o){nt(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.stickerData=t[7]),e.$set(o)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Rt(t){let e,n;return e=new mt({props:{stickerData:t[7],updateLines:t[1],cancelSticker:t[3]}}),{c(){et(e.$$.fragment)},m(t,o){nt(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.stickerData=t[7]),e.$set(o)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){K(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Nt(t){let e,n,o,r;const i=[Rt,Ot],c=[];function s(t,e){return"sticker"===t[7].type?0:1}return e=s(t),n=c[e]=i[e](t),{c(){n.c(),o=v("")},m(t,n){c[e].m(t,n),$(t,o,n),r=!0},p(t,r){let l=e;e=s(t),e===l?c[e].p(t,r):(G(),K(c[l],1,1,(()=>{c[l]=null})),I(),n=c[e],n?n.p(t,r):(n=c[e]=i[e](t),n.c()),J(n,1),n.m(o.parentNode,o))},i(t){r||(J(n),r=!0)},o(t){K(n),r=!1},d(t){c[e].d(t),t&&y(o)}}}function qt(t){let e,n,o,r,i=t[0],c=[];for(let e=0;e<i.length;e+=1)c[e]=Nt(Mt(t,i,e));const s=t=>K(c[t],1,1,(()=>{c[t]=null}));return o=new Dt({props:{addSticker:t[2]}}),{c(){e=k("div");for(let t=0;t<c.length;t+=1)c[t].c();n=b(),et(o.$$.fragment),S(e,"class","whiteboard svelte-f7oiq0")},m(t,i){$(t,e,i);for(let t=0;t<c.length;t+=1)c[t].m(e,null);m(e,n),nt(o,e,null),r=!0},p(t,[o]){if(11&o){let r;for(i=t[0],r=0;r<i.length;r+=1){const s=Mt(t,i,r);c[r]?(c[r].p(s,o),J(c[r],1)):(c[r]=Nt(s),c[r].c(),J(c[r],1),c[r].m(e,n))}for(G(),r=i.length;r<c.length;r+=1)s(r);I()}},i(t){if(!r){for(let t=0;t<i.length;t+=1)J(c[t]);J(o.$$.fragment,t),r=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)K(c[t]);K(o.$$.fragment,t),r=!1},d(t){t&&y(e),x(c,t),ot(o)}}}function Ft(t,e,n){const o=()=>"#"+Math.floor(16777215*Math.random()).toString(16),r=()=>Math.random().toString(36).substring(2,9);let i=[{type:"sticker",name:"Sticker 1",position:{x:0,y:0},resolution:{width:"200px",height:"200px"},text:"Hello World!",color:o(),id:r()}];return[i,()=>{console.log("Updating lines")},(t="sticker")=>{i.push({type:t,position:{x:0,y:0},resolution:{width:"200px",height:"200px"},color:o(),text:"Write something awesome here",id:r(),name:"Sticker "+(i.length+1)}),n(0,i),console.log("addSticker",i)},t=>{console.log("Cancelling sticker ",t),console.log("Stickers before",i),n(0,i=i.filter((e=>e.id!==t))),console.log("Stickers after",i)}]}class Wt extends ct{constructor(t){super(),it(this,t,Ft,qt,s,{})}}function Bt(e){let n,o,r,i,c;return i=new Wt({}),{c(){n=k("div"),o=k("h1"),o.textContent="Welcome to your whiteboard! 👋",r=b(),et(i.$$.fragment),S(o,"class","svelte-dqigmh")},m(t,e){$(t,n,e),m(n,o),m(n,r),nt(i,n,null),c=!0},p:t,i(t){c||(J(i.$$.fragment,t),c=!0)},o(t){K(i.$$.fragment,t),c=!1},d(t){t&&y(n),ot(i)}}}return new class extends ct{constructor(t){super(),it(this,t,null,Bt,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
